'''
파일명: Ex25-4-text-to-speech

OpenAI TTS(text to speech)
    텍스트를 음성으로 변환하는 기술
'''

from openai import OpenAI

client = OpenAI()

def generate_speech(text, voice='alloy', output_file='speech.mp3'):

    response = client.audio.speech.create(
        model='tts-1',
        voice=voice,    # alloy, echo, fable, onyx, nova, shimmer 중 목소리 선택
        input=text
    )

    response.stream_to_file(output_file)
    return f'Speech saved to {output_file}'

# 실행코드
text1 = '''이순신 장군은 조선시대의 대표적인 군인으로, 임진왜란(1592-1598) 동안 많은 업적을 남겼습니다. 그의 주요 업적 5가지는 다음과 같습니다.
1. **거북선의 개발과 활용**: 이순신은 전투용 배인 거북선을 개발하고 이를 전투에 적극적으로 활용했습니다. 거북선은 조선 수군의 상징으로, 일본 함대를 상대로 뛰어난 전투력을 발휘했습니다.
2. **명량 해전 승리**: 1597년 명량 해전에서 이순신은 극복할 수 없는 상황 속에서도 12척의 배로 133척의 일본 함대를 무찌르는 대승을 거두었습니다. 이 전투는 그의 전술과 결단력을 잘 보여주는 사례입니다.
3. **해전의 전술과 전략**: 이순신은 해전에서 뛰어난 전술과 전략을 사용하여 조선 수군의 효율성을 극대화했습니다. 그의 전투에 대한 지략은 "난중일기"에 자세히 기록되어 있습니다.
4. **후진 양성과 국가 방위**: 이순신은 군사 훈련과 육성에도 힘썼고, 조선의 해양 방어력을 강화하는 데 기여했습니다. 그의 지도력 아래 많은 인재와 부하들이 성장했습니다.
5. **충렬과 희생정신**: 이순신 장군은 국가와 국민을 위한 헌신적인 자세로 유명합니다. 그는 1598년 노량 해전에서 전사하며, 그의 희생정신은 한국 역사에서 큰 귀감이 되고 있습니다.
이순신 장군의 업적은 단순한 군사적 승리를 넘어, 한국 역사와 문화에 깊은 영향을 미쳤습니다.
이순신 장군의 업적 중 가장 위대한 것으로 평가받는 것은 **명량 해전에서의 승리**입니다. 
1597년 명량 해전에서 이순신은 12척의 배로 133척의 일본 함대와 맞서 싸웠습니다. 이 전투는 병력과 자원이 열악한 상황 속에서 불리한 조건을 극복하여 이룬 기적적인 승리로, 그의 전술적 재능과 불굴의 의지를 보여주었습니다. 이 승리는 조선 수군의 사기를 높이고, 이후의 전투에서도 중요한 전환점을 마련했습니다. 또한, 명량 해전은 이순신 장군의 전투 전략과 전술이 얼마나 뛰어났는지를 잘 보여주는 사례로 남아 있습니다.
결국 이순신 장군의 명량 해전 승리는 단순한 군사적 승리를 넘어 조선 왕조와 국민들에게 큰 희망과 용기를 주었으며, 그의 업적을 역사적으로 더욱 빛나게 하는 요소로 작용했습니다.
'''
result1 = generate_speech(text1)
print(result1)








